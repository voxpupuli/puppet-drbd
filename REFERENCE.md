# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`drbd`](#drbd): This class can be used to configure the drbd service.  It has been influenced by the camptocamp module as well as by an example created by Ra
* [`drbd::service`](#drbd--service)

### Defined types

* [`drbd::migration`](#drbd--migration)
* [`drbd::resource`](#drbd--resource): Used to created a resource that replicates data between 2 hosts for HA.  == Parameters  [host1] Name of first host. Required unless $cluster 
* [`drbd::resource::enable`](#drbd--resource--enable)
* [`drbd::resource::up`](#drbd--resource--up)

### Data types

* [`Drbd::Common_suboptions`](#Drbd--Common_suboptions): Common options type

## Classes

### <a name="drbd"></a>`drbd`

This class can be used to configure the drbd service.

It has been influenced by the camptocamp module as well as
by an example created by Rackspace's cloudbuilders

#### Parameters

The following parameters are available in the `drbd` class:

* [`service_enable`](#-drbd--service_enable)
* [`service_ensure`](#-drbd--service_ensure)
* [`package_name`](#-drbd--package_name)
* [`global_options`](#-drbd--global_options)
* [`common_options`](#-drbd--common_options)
* [`common_suboptions`](#-drbd--common_suboptions)

##### <a name="-drbd--service_enable"></a>`service_enable`

Data type: `Boolean`

if service should be enabled

Default value: `true`

##### <a name="-drbd--service_ensure"></a>`service_ensure`

Data type: `Enum['running', 'stopped', 'unmanaged']`

what we ensure for the service

Default value: `running`

##### <a name="-drbd--package_name"></a>`package_name`

Data type: `String`

name of the drbd package to install

Default value: `'drbd8-utils'`

##### <a name="-drbd--global_options"></a>`global_options`

Data type: `Array[String[1]]`

array of global options for /etc/drbd.d/global_common.conf

Default value: `['usage-count no']`

##### <a name="-drbd--common_options"></a>`common_options`

Data type: `Array[String[1]]`

array of common options for /etc/drbd.d/global_common.conf

Default value: `['protocol C']`

##### <a name="-drbd--common_suboptions"></a>`common_suboptions`

Data type: `Drbd::Common_suboptions`

hash of suboptions for /etc/drbd.d/global_common.conf

Default value: `{}`

### <a name="drbd--service"></a>`drbd::service`

The drbd::service class.

## Defined types

### <a name="drbd--migration"></a>`drbd::migration`

The drbd::migration class.

#### Parameters

The following parameters are available in the `drbd::migration` defined type:

* [`ha_primary`](#-drbd--migration--ha_primary)
* [`service`](#-drbd--migration--service)
* [`volume`](#-drbd--migration--volume)

##### <a name="-drbd--migration--ha_primary"></a>`ha_primary`

Data type: `Any`



##### <a name="-drbd--migration--service"></a>`service`

Data type: `Any`



##### <a name="-drbd--migration--volume"></a>`volume`

Data type: `Any`



### <a name="drbd--resource"></a>`drbd::resource`

Used to created a resource that replicates data
between 2 hosts for HA.

== Parameters
 [host1] Name of first host. Required unless $cluster is set.
 [host2] Name of second host. Required unless $cluster is set.
 [ip1] Ipaddress of first host. Required unless $cluster or $res1/$res2 is set.
 [ip2] Ipaddress of second host. Required unless $cluster or $res1/$res2 is set.
 [res1] First stacked resource name.
 [res2] Second stacked resource name.
 [disk] Name of disk to be replicated. Assumes that the
    name of the disk will be the same on both hosts. Required.
 [metadisk] Name of the metadisk. Allows to use an external metadisk. Assumes
    that the name of the metadisk will be the same on both hosts. Defaults to internal
    this parameter is ignored if flexible_metadisk is defined
 [flexible_metadisk] Name of the flexible_metadisk
    defaults to undef. If defined, the metadisk parameter is superseeded
 [secret] The shared secret used in peer authentication.. False indicates that
   no secret be required. Optional. Defaults to false.
 [port] Port which drbd will use for replication on both hosts.
    Optional. Defaults to 7789.
 [protocol] Protocol to use for drbd. Optional. Defaults to 'C'
    http://www.drbd.org/users-guide/s-replication-protocols.html
 [verify_alg] Algorithm used for block validation on peers. Optional.
   Defaults to crc32c. Accepts crc32c, sha1, or md5.
 [disk_parameters] Parameters for disk{} section
 [handlers_parameters] Parameters for handlers{} section
 [startup_parameters] Parameters for startup{} section
 [manage] If the actual drbd resource shoudl be managed.
 [ha_primary] If the resource is being applied on the primary host.
 [initial_setup] If this run is associated with the initial setup. Allows a user
   to only perform dangerous setup on the initial run.
 [initialize] If the actual drbd resource should be initialized
 [up] If the actual drbd resource should be set 'up' (drbdadmin up)

#### Parameters

The following parameters are available in the `drbd::resource` defined type:

* [`host1`](#-drbd--resource--host1)
* [`host2`](#-drbd--resource--host2)
* [`ip1`](#-drbd--resource--ip1)
* [`ip2`](#-drbd--resource--ip2)
* [`res1`](#-drbd--resource--res1)
* [`res2`](#-drbd--resource--res2)
* [`cluster`](#-drbd--resource--cluster)
* [`secret`](#-drbd--resource--secret)
* [`port`](#-drbd--resource--port)
* [`device`](#-drbd--resource--device)
* [`mountpoint`](#-drbd--resource--mountpoint)
* [`automount`](#-drbd--resource--automount)
* [`owner`](#-drbd--resource--owner)
* [`group`](#-drbd--resource--group)
* [`protocol`](#-drbd--resource--protocol)
* [`verify_alg`](#-drbd--resource--verify_alg)
* [`rate`](#-drbd--resource--rate)
* [`disk_parameters`](#-drbd--resource--disk_parameters)
* [`net_parameters`](#-drbd--resource--net_parameters)
* [`handlers_parameters`](#-drbd--resource--handlers_parameters)
* [`startup_parameters`](#-drbd--resource--startup_parameters)
* [`manage`](#-drbd--resource--manage)
* [`ha_primary`](#-drbd--resource--ha_primary)
* [`initial_setup`](#-drbd--resource--initial_setup)
* [`initialize`](#-drbd--resource--initialize)
* [`up`](#-drbd--resource--up)
* [`fs_type`](#-drbd--resource--fs_type)
* [`mkfs_opts`](#-drbd--resource--mkfs_opts)
* [`disk`](#-drbd--resource--disk)
* [`metadisk`](#-drbd--resource--metadisk)
* [`flexible_metadisk`](#-drbd--resource--flexible_metadisk)

##### <a name="-drbd--resource--host1"></a>`host1`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--host2"></a>`host2`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--ip1"></a>`ip1`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--ip2"></a>`ip2`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--res1"></a>`res1`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--res2"></a>`res2`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--cluster"></a>`cluster`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--secret"></a>`secret`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--port"></a>`port`

Data type: `Any`



Default value: `'7789'`

##### <a name="-drbd--resource--device"></a>`device`

Data type: `Any`



Default value: `'/dev/drbd0'`

##### <a name="-drbd--resource--mountpoint"></a>`mountpoint`

Data type: `Any`



Default value: `"/drbd/${name}"`

##### <a name="-drbd--resource--automount"></a>`automount`

Data type: `Any`



Default value: `true`

##### <a name="-drbd--resource--owner"></a>`owner`

Data type: `Any`



Default value: `'root'`

##### <a name="-drbd--resource--group"></a>`group`

Data type: `Any`



Default value: `'root'`

##### <a name="-drbd--resource--protocol"></a>`protocol`

Data type: `Any`



Default value: `'C'`

##### <a name="-drbd--resource--verify_alg"></a>`verify_alg`

Data type: `Any`



Default value: `'crc32c'`

##### <a name="-drbd--resource--rate"></a>`rate`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--disk_parameters"></a>`disk_parameters`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--net_parameters"></a>`net_parameters`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--handlers_parameters"></a>`handlers_parameters`

Data type: `Hash[String, Variant[Integer,String]]`



Default value: `{}`

##### <a name="-drbd--resource--startup_parameters"></a>`startup_parameters`

Data type: `Hash[String, Variant[Integer,String]]`



Default value: `{}`

##### <a name="-drbd--resource--manage"></a>`manage`

Data type: `Any`



Default value: `true`

##### <a name="-drbd--resource--ha_primary"></a>`ha_primary`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--initial_setup"></a>`initial_setup`

Data type: `Any`



Default value: `false`

##### <a name="-drbd--resource--initialize"></a>`initialize`

Data type: `Boolean`



Default value: `true`

##### <a name="-drbd--resource--up"></a>`up`

Data type: `Boolean`



Default value: `true`

##### <a name="-drbd--resource--fs_type"></a>`fs_type`

Data type: `Any`



Default value: `'ext4'`

##### <a name="-drbd--resource--mkfs_opts"></a>`mkfs_opts`

Data type: `Any`



Default value: `''`

##### <a name="-drbd--resource--disk"></a>`disk`

Data type: `Any`



Default value: `undef`

##### <a name="-drbd--resource--metadisk"></a>`metadisk`

Data type: `String[1]`



Default value: `'internal'`

##### <a name="-drbd--resource--flexible_metadisk"></a>`flexible_metadisk`

Data type: `Optional[String[1]]`



Default value: `undef`

### <a name="drbd--resource--enable"></a>`drbd::resource::enable`

The drbd::resource::enable class.

#### Parameters

The following parameters are available in the `drbd::resource::enable` defined type:

* [`manage`](#-drbd--resource--enable--manage)
* [`disk`](#-drbd--resource--enable--disk)
* [`fs_type`](#-drbd--resource--enable--fs_type)
* [`mkfs_opts`](#-drbd--resource--enable--mkfs_opts)
* [`device`](#-drbd--resource--enable--device)
* [`ha_primary`](#-drbd--resource--enable--ha_primary)
* [`initial_setup`](#-drbd--resource--enable--initial_setup)
* [`initialize`](#-drbd--resource--enable--initialize)
* [`up`](#-drbd--resource--enable--up)
* [`cluster`](#-drbd--resource--enable--cluster)
* [`mountpoint`](#-drbd--resource--enable--mountpoint)
* [`automount`](#-drbd--resource--enable--automount)

##### <a name="-drbd--resource--enable--manage"></a>`manage`

Data type: `Any`



##### <a name="-drbd--resource--enable--disk"></a>`disk`

Data type: `Any`



##### <a name="-drbd--resource--enable--fs_type"></a>`fs_type`

Data type: `Any`



##### <a name="-drbd--resource--enable--mkfs_opts"></a>`mkfs_opts`

Data type: `Any`



##### <a name="-drbd--resource--enable--device"></a>`device`

Data type: `Any`



##### <a name="-drbd--resource--enable--ha_primary"></a>`ha_primary`

Data type: `Any`



##### <a name="-drbd--resource--enable--initial_setup"></a>`initial_setup`

Data type: `Any`



##### <a name="-drbd--resource--enable--initialize"></a>`initialize`

Data type: `Any`



##### <a name="-drbd--resource--enable--up"></a>`up`

Data type: `Any`



##### <a name="-drbd--resource--enable--cluster"></a>`cluster`

Data type: `Any`



##### <a name="-drbd--resource--enable--mountpoint"></a>`mountpoint`

Data type: `Any`



##### <a name="-drbd--resource--enable--automount"></a>`automount`

Data type: `Any`



### <a name="drbd--resource--up"></a>`drbd::resource::up`

The drbd::resource::up class.

#### Parameters

The following parameters are available in the `drbd::resource::up` defined type:

* [`disk`](#-drbd--resource--up--disk)
* [`ha_primary`](#-drbd--resource--up--ha_primary)
* [`initial_setup`](#-drbd--resource--up--initial_setup)
* [`initialize`](#-drbd--resource--up--initialize)
* [`up`](#-drbd--resource--up--up)
* [`fs_type`](#-drbd--resource--up--fs_type)
* [`mkfs_opts`](#-drbd--resource--up--mkfs_opts)
* [`device`](#-drbd--resource--up--device)
* [`mountpoint`](#-drbd--resource--up--mountpoint)
* [`automount`](#-drbd--resource--up--automount)

##### <a name="-drbd--resource--up--disk"></a>`disk`

Data type: `Any`



##### <a name="-drbd--resource--up--ha_primary"></a>`ha_primary`

Data type: `Any`



##### <a name="-drbd--resource--up--initial_setup"></a>`initial_setup`

Data type: `Any`



##### <a name="-drbd--resource--up--initialize"></a>`initialize`

Data type: `Any`



##### <a name="-drbd--resource--up--up"></a>`up`

Data type: `Any`



##### <a name="-drbd--resource--up--fs_type"></a>`fs_type`

Data type: `Any`



##### <a name="-drbd--resource--up--mkfs_opts"></a>`mkfs_opts`

Data type: `Any`



##### <a name="-drbd--resource--up--device"></a>`device`

Data type: `Any`



##### <a name="-drbd--resource--up--mountpoint"></a>`mountpoint`

Data type: `Any`



##### <a name="-drbd--resource--up--automount"></a>`automount`

Data type: `Any`



## Data types

### <a name="Drbd--Common_suboptions"></a>`Drbd::Common_suboptions`

Common options type

Alias of

```puppet
Struct[{
    handlers => Optional[Array[String[1]]],
    startup  => Optional[Array[String[1]]],
    options  => Optional[Array[String[1]]],
    disk     => Optional[Array[String[1]]],
    net      => Optional[Array[String[1]]],
}]
```

